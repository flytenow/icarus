# Data

> Information about how to fetch data from the government databases, how to parse it, and how to import it into a MySQL database.

## Data Sources
- [FAA ASIAS](http://www.asias.faa.gov/pls/apex/f?p=100:12:0::NO:::) Contains information relating to "incidents." Incidents are events that, according to the NTSB, do not qualify as an "accident." These generally represent events that do not cause a significant amount of damage to the aircraft.
- [NTSB](http://www.ntsb.gov/aviationquery/) The NTSB database contains aviation accident information from all over the world, but only events in the United States are used. The NTSB has the primary investigative responsibility for most aviation accident in the United States.

## Preparation
First, you need to install `mysql-server`. There are many guides on how to do this for any operating system, so I won't go into any detail. Once the MySQL server is installed and running, you need to create a database. This can be done with `CREATE DATABASE icarus`. Then all that is necessary is to run `download-data`. While there is only about 50MB of data to download, the script can take up to 10 minutes as the servers take a very long time to send a response. The script assumes that you did not set a password for your root mysql user. If this is not the case, you will need to modify the command at the end of the script or just run a modified command yourself.

## `events` Schema
| Field | Type | Nullable | Default | Description |
| --- | --- | --- | --- | --- | --- | --- |
| id                     | `int(11)`      | NO   | NULL    | Autogenerated ID, Primary Key |
| source                 | `varchar(4)`   | NO   | NULL    | NTSB or FAA DB |
| investigation-type     | `varchar(10)`  | NO   | NULL    | Incident or Accident |
| report-status          | `varchar(32)`  | YES  | NULL    | The status of the FAA/NTSB report |
| date                   | `varchar(10)`  | YES  | NULL    | The date of the event |
| city                   | `varchar(32)`  | YES  | NULL    | The nearest city to the event |
| state                  | `varchar(2)`   | YES  | NULL    | The state in which the event occurred |
| airport-name           | `varchar(64)`  | YES  | NULL    | The airport nearest the event |
| airport-code           | `varchar(6)`   | YES  | NULL    | The code of the airport nearest the event |
| latitude               | `varchar(16)`  | YES  | NULL    | Latitude of the event location |
| longitude              | `varchar(16)`  | YES  | NULL    | Longitude of the event location |
| fatalities             | `int(11)`      | YES  | NULL    | The number of fatalities |
| injuries               | `int(11)`      | YES  | NULL    | The number of injuries |
| uninjured              | `int(11)`      | YES  | NULL    | The number of people involved who were uninjured |
| aircraft-reg-number    | `varchar(16)`  | YES  | NULL    | Tail number of the aircraft |
| aircraft-category      | `varchar(16)`  | YES  | NULL    | Type of aircraft |
| aircraft-make          | `varchar(64)`  | YES  | NULL    | Aircraft make |
| aircraft-model         | `varchar(64)`  | YES  | NULL    | Aircraft model |
| aircraft-series        | `varchar(64)`  | YES  | NULL    | Aircraft series |
| amateur-built          | `varchar(3)`   | YES  | NULL    | Whether the aircraft was built by an amateur |
| engine-count           | `int(11)`      | YES  | NULL    | The number of engines on the aircraft |
| engine-type            | `varchar(32)`  | YES  | NULL    | Type of engines |
| aircraft-damage        | `varchar(32)`  | YES  | NULL    | Aircraft damage severity |
| operator               | `varchar(128)` | YES  | NULL    | Airline or air-carrier of the aircraft |
| far-desc               | `varchar(64)`  | YES  | NULL    | The FAR under which the flight operation occurred |
| pilot-certification    | `varchar(64)`  | YES  | NULL    | The certifcation level of the pilot |
| pilot-total-hours      | `int(11)`      | YES  | NULL    | Total number of pilot's hours |
| pilot-make-model-hours | `int(11)`      | YES  | NULL    | Total number of pilot's hours in a similiar aircraft |
| flight-phase           | `varchar(128)` | YES  | NULL    | The phase of the flight at which the event occurred |
| flight-type            | `varchar(128)` | YES  | NULL    | The type of flight |
| flight-plan-filed-code | `varchar(64)`  | YES  | NULL    | The type of flight plan filed, if any |
| weather-conditions     | `varchar(3)`   | YES  | NULL    | The weather conditions code |

